ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"os_main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.align	1
  16              		.p2align 2,,3
  17              		.global	OS_STATE_HANDLER
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	OS_STATE_HANDLER:
  25              	.LFB1:
  26              		.file 1 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_main.c"
   1:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_firstinc.h"
   2:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_task_common.h"
   3:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_task_scheduler.h"
   4:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "OS_shutdown.h"
   5:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_start_init_mc.h"
   6:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_start_init_hw.h"
   7:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_start_init_sw.h"
   8:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_task_scheduler.h"
   9:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_task_queue.h"
  10:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #include "os_main.h"
  11:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  12:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** /*
  13:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** OS_State: OS_INIT (Start im Supervisor Mode)
  14:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Exception Handler aufsetzen  -> Done
  15:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - HW Internal Peripherie, RAM, etc -> Done
  16:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Tasks konfigurieren -> Done via OS_INIT_TASK_SYSTEM()
  17:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> Stack -> assigned in function OS_INIT_TASKs / OS_INIT_TASK_SYSTEM -> Done
  18:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> MMU_REGION ->NA
  19:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> CoreId -> Done
  20:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> Task-Function -> assigned in function OS_INIT_TASK / OS_INIT_TASK_SYSTEM -> Done
  21:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> TaskPrio -> Done
  22:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> MultipleActChk -> Done in OS_ACTIVATE_TASK()
  23:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** --> Privilige Level (Handler mode (priviliged): System Mode, Abort, Undefined, FiQ, IRQ; Thread mod
  24:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - TCMP Interrupts für Tasks konfigurieren, Starten vom Dispatcher -> Done
  25:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - MMU konfigurieren -> NA
  26:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - TaskScheduler für Core 0...n starten (jeder Core hat eigenen Scheduler) -> Not needed for CortexM
  27:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - SW mit erhöhtem Rechtebedarf wird mittels Interrupt gestartet (Dispatcher, WD, FMON, Shutdown) ->
  28:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - FMON / Watchdog aktivieren -> NA
  29:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Interrupts aktivieren -> Done
  30:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Zu UserMode wechseln -> Done
  31:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  32:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** OS_State: OS_Running (User Mode)
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 2


  33:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Starten / Beenden der einzelnen Tasks auf den jeweiligen Cores(User/Supervisor Mode??) -> Done
  34:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Timer Compare Interrupts -> not needed  -> Systick used instead
  35:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Interrupt Prioritäten von Cat2.(SW) Interrupts und Cat1.(HW) Interrupts -> NA
  36:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  37:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** (OS_State: OS_Exception (Supervisor Mode))
  38:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Link-Register Adresse im Eeprom abspeichern, an der die Exceptioin erzeugt wurde -> NA (no EEPROM
  39:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - OS_SHUTDOWN mit Reset -> Done in handler functions via call of "OS_SHUTDOWN(E_OS_RESET_HARDRESET)
  40:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  41:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** OS_State: OS_SHUTDOWN (nur erlaubt im Supervisor Mode)
  42:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Interrupts deaktivieren -> Done
  43:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - Tasks beenden (Timer Interrupts löschen) -> Done OS_SHUTDOWN(E_OS_RESET_HARDRESET
  44:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - FMON / Watchdog deinitialisieren -> NA
  45:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - MMU deaktivieren / deintialisieren -> NA
  46:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** - HW Reset auslösen -> Done
  47:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  48:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** */
  49:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  50:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** LOCAL void os_determine_next_task_activation(void)
  51:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** {
  52:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    LOCAL uint32 call_nr = 0u;
  53:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    switch(call_nr)
  54:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
  55:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 0u:
  56:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_TASK(&TASK_1_VAR);
  57:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
  58:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  59:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 1u:
  60:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_TASK(&TASK_2_VAR);
  61:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
  62:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  63:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 2u:
  64:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_TASK(&TASK_3_VAR);
  65:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
  66:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  67:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 3u:
  68:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
  69:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  70:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 4u:
  71:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* wait for all tasks finished, and the idle task to be executed once... */
  72:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       if(GET_RUNNING_TASK()->idle_task != False)
  73:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
  74:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          call_nr = 0;
  75:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }   
  76:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  77:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    default:
  78:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
  79:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  80:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
  81:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** }
  82:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  83:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** void OS_STATE_HANDLER(void)
  84:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** {
  27              		.loc 1 84 1 view -0
  28              		.cfi_startproc
  29              		@ Volatile: function does not return.
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 3


  85:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    /* the following code runs in priviliged mode!! */
  86:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    LOCAL os_reset_type_t sys_req_reset_state = E_OS_RESET_POWERDOWN;
  32              		.loc 1 86 4 view .LVU1
  87:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    LOCAL uint32 call_nr = 0u;
  33              		.loc 1 87 4 view .LVU2
  88:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
  89:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    switch(OS_STATE)
  34              		.loc 1 89 4 view .LVU3
  35 0000 3E4D     		ldr	r5, .L27
  84:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    /* the following code runs in priviliged mode!! */
  36              		.loc 1 84 1 is_stmt 0 view .LVU4
  37 0002 08B5     		push	{r3, lr}
  38              		.cfi_def_cfa_offset 8
  39              		.cfi_offset 3, -8
  40              		.cfi_offset 14, -4
  41              		.loc 1 89 4 view .LVU5
  42 0004 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
  43 0006 DBB2     		uxtb	r3, r3
  44 0008 012B     		cmp	r3, #1
  45 000a 19D0     		beq	.L2
  46 000c 5CB2     		sxtb	r4, r3
  47 000e 7CB3     		cbz	r4, .L3
  48 0010 022B     		cmp	r3, #2
  49 0012 12D1     		bne	.L5
  90:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
  91:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case OS_STATE_INIT:
  92:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
  93:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /*init the MCU including MMU, RAM, Registers */
  94:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_INIT_MC();
  95:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* start the task system */
  96:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* initialisation of SW, HW will be done in the tasks, after starting the task system.... */
  97:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_INIT_HW();
  98:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_INIT_SW();
  99:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
 100:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* trigger dispatcher */
 101:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* activate the dispatcher, configure TCMP interrupts for tasks */
 102:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* activate & start the Idle task */
 103:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_TASK(&TASK_0_VAR);
 104:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_START_TASK(GET_IDLE_TASK(),0u);
 105:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_DISPATCHER();
 106:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
 107:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_STATE = OS_STATE_RUNNING;
 108:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* activate the interrupts, tasks will be executed from now on ... */
 109:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       LLF_INT_ENABLE();
 110:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 111:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 112:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case OS_STATE_RUNNING:
 113:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
 114:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /*
 115:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       os_determine_next_task_activation und OS_TASK_DISPATCHER müssen m.E. öfters laufen wie der Re
 116:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       - Der Dispatcher müsste per Interrupt die laufende Task unterbrechen um dann (nach PreemptTas
 117:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       - Der os_determine_next_task_activation müsste vor jedem Aufruf on OS_TASK_DISPATCHER laufen
 118:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       */
 119:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       if(call_nr % 5u == 0u)
 120:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 121:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          os_determine_next_task_activation();
 122:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 4


 123:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
 124:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* run the task function */
 125:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_TASK_DISPATCHER();
 126:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       if(SYSTEM_STATE_ACCEPTED == OS_STATE_SHUTDOWN) /* check for shutdown/reset/exit conditions: c
 127:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 128:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_STATE = OS_STATE_SHUTDOWN;
 129:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          sys_req_reset_state = E_OS_RESET_HARDRESET;
 130:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 131:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 132:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 133:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case OS_STATE_SHUTDOWN:
 134:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
 135:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       LLF_INT_DISABLE();
  50              		.loc 1 135 7 is_stmt 1 view .LVU6
  51 0014 FFF7FEFF 		bl	LLF_INT_DISABLE
  52              	.LVL0:
 136:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       switch(sys_req_reset_state)
  53              		.loc 1 136 7 view .LVU7
  54 0018 394B     		ldr	r3, .L27+4
  55 001a 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  56 001c 0128     		cmp	r0, #1
  57 001e 48D0     		beq	.L17
  58 0020 41B2     		sxtb	r1, r0
  59 0022 0029     		cmp	r1, #0
  60 0024 41D0     		beq	.L16
  61 0026 0228     		cmp	r0, #2
  62 0028 43D0     		beq	.L17
 137:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 138:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       case E_OS_RESET_POWERDOWN:
 139:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 140:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_SHUTDOWN(E_OS_RESET_POWERDOWN,0u);
 141:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
 142:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 143:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       case E_OS_RESET_HARDRESET:
 144:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 145:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_SHUTDOWN(E_OS_RESET_HARDRESET,0u);
 146:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
 147:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 148:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       case E_OS_RESET_EXIT:
 149:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 150:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_SHUTDOWN(E_OS_RESET_EXIT,0u);
 151:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
 152:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 153:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       default:
 154:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 155:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_SHUTDOWN(E_OS_RESET_HARDRESET,0u);
  63              		.loc 1 155 10 view .LVU8
  64 002a 0021     		movs	r1, #0
  65 002c 0846     		mov	r0, r1
  66 002e FFF7FEFF 		bl	OS_SHUTDOWN
  67              	.LVL1:
 156:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          OS_SET_SW_BUG(E_OS_BUG_RESET_EXIT_OR_SHUTDOWN_FAILED,E_FUNC_STATE_HANDLER);
  68              		.loc 1 156 10 view .LVU9
  69 0032 1321     		movs	r1, #19
  70 0034 0820     		movs	r0, #8
  71 0036 FFF7FEFF 		bl	OS_SET_SW_BUG
  72              	.LVL2:
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 5


 157:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
  73              		.loc 1 157 10 view .LVU10
  74              	.L5:
 158:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 159:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 160:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 161:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 162:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    default:
 163:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
 164:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 165:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 166:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 167:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    /*check the complete stack apart from the first 64 bytes to detect critical stack usage */
 168:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    OS_STACK_CHECK();
  75              		.loc 1 168 4 view .LVU11
  76 003a FFF7FEFF 		bl	OS_STACK_CHECK
  77              	.LVL3:
  78              	.L19:
 169:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** #if(CFG_PROCESSOR != MCU_X86)
 170:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    /* wait until timer task, else the program would return to the next instruction after the reset 
 171:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    while(1u)
  79              		.loc 1 171 4 discriminator 1 view .LVU12
 172:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
 173:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
  80              		.loc 1 173 4 discriminator 1 view .LVU13
 171:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
  81              		.loc 1 171 4 discriminator 1 view .LVU14
  82              		.loc 1 173 4 discriminator 1 view .LVU15
  83 003e FEE7     		b	.L19
  84              	.L2:
 119:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
  85              		.loc 1 119 7 view .LVU16
 119:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
  86              		.loc 1 119 18 is_stmt 0 view .LVU17
  87 0040 304C     		ldr	r4, .L27+8
  88 0042 2268     		ldr	r2, [r4]
  89 0044 0523     		movs	r3, #5
  90 0046 B2FBF3F3 		udiv	r3, r2, r3
  91 004a 03EB8303 		add	r3, r3, r3, lsl #2
 119:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
  92              		.loc 1 119 9 view .LVU18
  93 004e 9A42     		cmp	r2, r3
  94 0050 23D0     		beq	.L26
  95              	.L7:
 123:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* run the task function */
  96              		.loc 1 123 7 is_stmt 1 view .LVU19
 123:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* run the task function */
  97              		.loc 1 123 14 is_stmt 0 view .LVU20
  98 0052 2368     		ldr	r3, [r4]
  99 0054 0133     		adds	r3, r3, #1
 100 0056 2360     		str	r3, [r4]
 125:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       if(SYSTEM_STATE_ACCEPTED == OS_STATE_SHUTDOWN) /* check for shutdown/reset/exit conditions: c
 101              		.loc 1 125 7 is_stmt 1 view .LVU21
 102 0058 FFF7FEFF 		bl	OS_TASK_DISPATCHER
 103              	.LVL4:
 126:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 104              		.loc 1 126 7 view .LVU22
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 6


 126:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 105              		.loc 1 126 32 is_stmt 0 view .LVU23
 106 005c 2A4B     		ldr	r3, .L27+12
 107 005e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 108 0060 DBB2     		uxtb	r3, r3
 126:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 109              		.loc 1 126 9 view .LVU24
 110 0062 022B     		cmp	r3, #2
 111 0064 E9D1     		bne	.L5
 128:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          sys_req_reset_state = E_OS_RESET_HARDRESET;
 112              		.loc 1 128 10 is_stmt 1 view .LVU25
 129:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 113              		.loc 1 129 30 is_stmt 0 view .LVU26
 114 0066 264A     		ldr	r2, .L27+4
 128:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          sys_req_reset_state = E_OS_RESET_HARDRESET;
 115              		.loc 1 128 19 view .LVU27
 116 0068 2B70     		strb	r3, [r5]
 129:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 117              		.loc 1 129 10 is_stmt 1 view .LVU28
 129:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 118              		.loc 1 129 30 is_stmt 0 view .LVU29
 119 006a 0023     		movs	r3, #0
 120 006c 1370     		strb	r3, [r2]
 121 006e E4E7     		b	.L5
 122              	.L3:
  94:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* start the task system */
 123              		.loc 1 94 7 is_stmt 1 view .LVU30
 124 0070 FFF7FEFF 		bl	OS_INIT_MC
 125              	.LVL5:
  97:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_INIT_SW();
 126              		.loc 1 97 7 view .LVU31
 127 0074 FFF7FEFF 		bl	OS_INIT_HW
 128              	.LVL6:
  98:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
 129              		.loc 1 98 7 view .LVU32
 130 0078 FFF7FEFF 		bl	OS_INIT_SW
 131              	.LVL7:
 103:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_START_TASK(GET_IDLE_TASK(),0u);
 132              		.loc 1 103 7 view .LVU33
 133 007c 2348     		ldr	r0, .L27+16
 134 007e FFF7FEFF 		bl	OS_ACTIVATE_TASK
 135              	.LVL8:
 104:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       OS_ACTIVATE_DISPATCHER();
 136              		.loc 1 104 7 view .LVU34
 137 0082 FFF7FEFF 		bl	GET_IDLE_TASK
 138              	.LVL9:
 139 0086 2146     		mov	r1, r4
 140 0088 FFF7FEFF 		bl	OS_START_TASK
 141              	.LVL10:
 105:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** 
 142              		.loc 1 105 7 view .LVU35
 143 008c FFF7FEFF 		bl	OS_ACTIVATE_DISPATCHER
 144              	.LVL11:
 107:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* activate the interrupts, tasks will be executed from now on ... */
 145              		.loc 1 107 7 view .LVU36
 107:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       /* activate the interrupts, tasks will be executed from now on ... */
 146              		.loc 1 107 16 is_stmt 0 view .LVU37
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 7


 147 0090 0123     		movs	r3, #1
 148 0092 2B70     		strb	r3, [r5]
 109:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 149              		.loc 1 109 7 is_stmt 1 view .LVU38
 150 0094 FFF7FEFF 		bl	LLF_INT_ENABLE
 151              	.LVL12:
 110:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    }
 152              		.loc 1 110 7 view .LVU39
 153 0098 CFE7     		b	.L5
 154              	.L26:
 121:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 155              		.loc 1 121 10 view .LVU40
 156              	.LBB4:
 157              	.LBI4:
  50:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c **** {
 158              		.loc 1 50 12 view .LVU41
 159              	.LBB5:
  52:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    switch(call_nr)
 160              		.loc 1 52 4 view .LVU42
  53:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    {
 161              		.loc 1 53 4 view .LVU43
 162 009a 6368     		ldr	r3, [r4, #4]
 163 009c 042B     		cmp	r3, #4
 164 009e D8D8     		bhi	.L7
 165 00a0 DFE803F0 		tbb	[pc, r3]
 166              	.L9:
 167 00a4 0B       		.byte	(.L13-.L9)/2
 168 00a5 24       		.byte	(.L12-.L9)/2
 169 00a6 1D       		.byte	(.L11-.L9)/2
 170 00a7 1A       		.byte	(.L10-.L9)/2
 171 00a8 12       		.byte	(.L8-.L9)/2
 172 00a9 00       		.p2align 1
 173              	.L16:
 174              	.LBE5:
 175              	.LBE4:
 145:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
 176              		.loc 1 145 10 view .LVU44
 177 00aa 0846     		mov	r0, r1
 178 00ac FFF7FEFF 		bl	OS_SHUTDOWN
 179              	.LVL13:
 146:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 180              		.loc 1 146 10 view .LVU45
 181 00b0 C3E7     		b	.L5
 182              	.L17:
 150:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****          break;
 183              		.loc 1 150 10 view .LVU46
 184 00b2 0021     		movs	r1, #0
 185 00b4 FFF7FEFF 		bl	OS_SHUTDOWN
 186              	.LVL14:
 151:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }
 187              		.loc 1 151 10 view .LVU47
 188 00b8 BFE7     		b	.L5
 189              	.L13:
 190              	.LBB7:
 191              	.LBB6:
  56:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
 192              		.loc 1 56 7 view .LVU48
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 8


 193 00ba 1548     		ldr	r0, .L27+20
 194 00bc FFF7FEFF 		bl	OS_ACTIVATE_TASK
 195              	.LVL15:
  57:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 196              		.loc 1 57 7 view .LVU49
  57:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 197              		.loc 1 57 14 is_stmt 0 view .LVU50
 198 00c0 6368     		ldr	r3, [r4, #4]
 199 00c2 0133     		adds	r3, r3, #1
 200 00c4 6360     		str	r3, [r4, #4]
  58:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 1u:
 201              		.loc 1 58 7 is_stmt 1 view .LVU51
 202 00c6 C4E7     		b	.L7
 203              	.L8:
  72:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 204              		.loc 1 72 7 view .LVU52
  72:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 205              		.loc 1 72 10 is_stmt 0 view .LVU53
 206 00c8 FFF7FEFF 		bl	GET_RUNNING_TASK
 207              	.LVL16:
  72:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 208              		.loc 1 72 40 view .LVU54
 209 00cc 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
  72:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       {
 210              		.loc 1 72 9 view .LVU55
 211 00ce 5B07     		lsls	r3, r3, #29
  74:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }   
 212              		.loc 1 74 10 is_stmt 1 view .LVU56
  74:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       }   
 213              		.loc 1 74 18 is_stmt 0 view .LVU57
 214 00d0 44BF     		itt	mi
 215 00d2 0023     		movmi	r3, #0
 216 00d4 6360     		strmi	r3, [r4, #4]
 217 00d6 BCE7     		b	.L7
 218              	.L10:
  68:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 219              		.loc 1 68 7 is_stmt 1 view .LVU58
  68:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 220              		.loc 1 68 14 is_stmt 0 view .LVU59
 221 00d8 0423     		movs	r3, #4
 222 00da 6360     		str	r3, [r4, #4]
  69:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 4u:
 223              		.loc 1 69 7 is_stmt 1 view .LVU60
 224 00dc B9E7     		b	.L7
 225              	.L11:
  64:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
 226              		.loc 1 64 7 view .LVU61
 227 00de 0D48     		ldr	r0, .L27+24
 228 00e0 FFF7FEFF 		bl	OS_ACTIVATE_TASK
 229              	.LVL17:
  65:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 230              		.loc 1 65 7 view .LVU62
  65:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 231              		.loc 1 65 14 is_stmt 0 view .LVU63
 232 00e4 6368     		ldr	r3, [r4, #4]
 233 00e6 0133     		adds	r3, r3, #1
 234 00e8 6360     		str	r3, [r4, #4]
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 9


  66:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 3u:
 235              		.loc 1 66 7 is_stmt 1 view .LVU64
 236 00ea B2E7     		b	.L7
 237              	.L12:
  60:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       call_nr++;
 238              		.loc 1 60 7 view .LVU65
 239 00ec 0A48     		ldr	r0, .L27+28
 240 00ee FFF7FEFF 		bl	OS_ACTIVATE_TASK
 241              	.LVL18:
  61:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 242              		.loc 1 61 7 view .LVU66
  61:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****       break;
 243              		.loc 1 61 14 is_stmt 0 view .LVU67
 244 00f2 6368     		ldr	r3, [r4, #4]
 245 00f4 0133     		adds	r3, r3, #1
 246 00f6 6360     		str	r3, [r4, #4]
  62:C:\Users\president\Desktop\sbx\input\src\os_base\os_main.c ****    case 2u:
 247              		.loc 1 62 7 is_stmt 1 view .LVU68
 248 00f8 ABE7     		b	.L7
 249              	.L28:
 250 00fa 00BF     		.align	2
 251              	.L27:
 252 00fc 00000000 		.word	OS_STATE
 253 0100 00000000 		.word	.LANCHOR1
 254 0104 00000000 		.word	.LANCHOR0
 255 0108 00000000 		.word	SYSTEM_STATE_ACCEPTED
 256 010c 00000000 		.word	TASK_0_VAR
 257 0110 00000000 		.word	TASK_1_VAR
 258 0114 00000000 		.word	TASK_3_VAR
 259 0118 00000000 		.word	TASK_2_VAR
 260              	.LBE6:
 261              	.LBE7:
 262              		.cfi_endproc
 263              	.LFE1:
 265              		.data
 266              		.set	.LANCHOR1,. + 0
 269              	sys_req_reset_state.4209:
 270 0000 01       		.byte	1
 271              		.bss
 272              		.align	2
 273              		.set	.LANCHOR0,. + 0
 276              	call_nr.4210:
 277 0000 00000000 		.space	4
 280              	call_nr.4198:
 281 0004 00000000 		.space	4
 282              		.text
 283              	.Letext0:
 284              		.file 2 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_base\\os_base_types.h"
 285              		.file 3 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_base\\os_common.h"
 286              		.file 4 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_drivers\\lld_core.h"
 287              		.file 5 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_base\\os_task_common.h"
 288              		.file 6 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_main.h"
 289              		.file 7 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_base\\os_ram.h"
 290              		.file 8 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_base\\os_ram_stack.h"
 291              		.file 9 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\OS_shutdown.h"
 292              		.file 10 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_task_scheduler.h"
 293              		.file 11 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_task_queue.h"
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 10


 294              		.file 12 "c:\\users\\president\\desktop\\sbx\\input\\src\\os_drivers\\lld_global.h"
 295              		.file 13 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_stack.h"
 296              		.file 14 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_start_init_mc.h"
 297              		.file 15 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_start_init_hw.h"
 298              		.file 16 "C:\\Users\\president\\Desktop\\sbx\\input\\src\\os_base\\os_start_init_sw.h"
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 os_main.c
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:15     .text:00000000 $t
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:24     .text:00000000 OS_STATE_HANDLER
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:167    .text:000000a4 $d
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:252    .text:000000fc $d
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:269    .data:00000000 sys_req_reset_state.4209
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:272    .bss:00000000 $d
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:276    .bss:00000000 call_nr.4210
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:280    .bss:00000004 call_nr.4198
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:172    .text:000000a9 $d
C:\Users\PRESID~1\AppData\Local\Temp\ccYu8dTL.s:172    .text:000000aa $t
                           .group:00000000 wm4.0.e31f5ef4b602e0fe12ffa66337bb63a5
                           .group:00000000 wm4.os_config.h.2.f6eac9d90a921b6f21f0ccaa4f0194d3
                           .group:00000000 wm4.os_common.h.2.552e5427eb955534308d342b866fde4e
                           .group:00000000 wm4.os_task_config.h.2.6666b50e8a518cf90a10402c04d546aa
                           .group:00000000 wm4.os_task_common.h.95.8d8bf4690dc541f58a865736bc15fd8a
                           .group:00000000 wm4.os_task_scheduler.h.2.15617e18d7400fa01024e50e30c98462
                           .group:00000000 wm4.os_task_queue.h.2.322205b6bc95ffadb60992ab4fdadeef

UNDEFINED SYMBOLS
LLF_INT_DISABLE
OS_SHUTDOWN
OS_SET_SW_BUG
OS_STACK_CHECK
OS_TASK_DISPATCHER
OS_INIT_MC
OS_INIT_HW
OS_INIT_SW
OS_ACTIVATE_TASK
GET_IDLE_TASK
OS_START_TASK
OS_ACTIVATE_DISPATCHER
LLF_INT_ENABLE
GET_RUNNING_TASK
OS_STATE
SYSTEM_STATE_ACCEPTED
TASK_0_VAR
TASK_1_VAR
TASK_3_VAR
TASK_2_VAR
