ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 2
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"os_stack.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.align	1
  16              		.p2align 2,,3
  17              		.global	OS_StackCheck
  18              		.syntax unified
  19              		.thumb
  20              		.thumb_func
  21              		.fpu softvfp
  23              	OS_StackCheck:
  24              	.LFB0:
  25              		.file 1 "E:\\NeuOrga\\Programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_stack.c"
   1:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** #include "os_firstinc.h"
   2:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
   3:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** void OS_StackCheck(void)
   4:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** {
  26              		.loc 1 4 0
  27              		.cfi_startproc
  28              		@ args = 0, pretend = 0, frame = 0
  29              		@ frame_needed = 0, uses_anonymous_args = 0
  30 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  31              		.cfi_def_cfa_offset 24
  32              		.cfi_offset 3, -24
  33              		.cfi_offset 4, -20
  34              		.cfi_offset 5, -16
  35              		.cfi_offset 6, -12
  36              		.cfi_offset 7, -8
  37              		.cfi_offset 14, -4
   5:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    /* the last 64 bytes are reserved for stack check for every stack
   6:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    unsigned_char_t OS_MAIN_STACK[OS_STACK_SIZE];
   7:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
   8:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    the stack is starting at the highest address and growing to lower addresses -> pattern start on 
   9:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
  10:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    */
  11:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    static volatile uint32 stack_pos = 0, stack_used = False;
  12:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_ADDR = (volatile uint32*)-1;
  13:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_POS =  (volatile uint32) -1;
  14:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_USAGE_PERCENT = 0u;
  38              		.loc 1 14 0
  39 0002 2248     		ldr	r0, .L20
  15:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
  16:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    for(stack_pos = 0; stack_pos < OS_STACK_SIZE; stack_pos++)
  40              		.loc 1 16 0
  41 0004 224B     		ldr	r3, .L20+4
  13:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_USAGE_PERCENT = 0u;
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s 			page 2


  42              		.loc 1 13 0
  43 0006 234C     		ldr	r4, .L20+8
  12:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_POS =  (volatile uint32) -1;
  44              		.loc 1 12 0
  45 0008 234F     		ldr	r7, .L20+12
  46 000a 4FF0FF32 		mov	r2, #-1
  14:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
  47              		.loc 1 14 0
  48 000e 0021     		movs	r1, #0
  13:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_USAGE_PERCENT = 0u;
  49              		.loc 1 13 0
  50 0010 2260     		str	r2, [r4]
  14:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
  51              		.loc 1 14 0
  52 0012 0160     		str	r1, [r0]
  53              		.loc 1 16 0
  54 0014 1960     		str	r1, [r3]
  55 0016 1D68     		ldr	r5, [r3]
  12:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_POS =  (volatile uint32) -1;
  56              		.loc 1 12 0
  57 0018 3A60     		str	r2, [r7]
  58              		.loc 1 16 0
  59 001a B5F5007F 		cmp	r5, #512
  60 001e 1CD2     		bcs	.L3
  61 0020 1E4E     		ldr	r6, .L20+16
  62 0022 0D46     		mov	r5, r1
  17:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    {
  18:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       if(OS_MAIN_STACK[stack_pos] != 0xAA)
  19:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       {
  20:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****          stack_used = True;
  63              		.loc 1 20 0
  64 0024 4FF0010C 		mov	ip, #1
  16:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    {
  65              		.loc 1 16 0
  66 0028 1146     		mov	r1, r2
  67              	.L2:
  18:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       {
  68              		.loc 1 18 0
  69 002a 1A68     		ldr	r2, [r3]
  70 002c B25C     		ldrb	r2, [r6, r2]	@ zero_extendqisi2
  71 002e AA2A     		cmp	r2, #170
  72 0030 0BD0     		beq	.L4
  73              		.loc 1 20 0
  74 0032 C3F804C0 		str	ip, [r3, #4]
  21:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****          if(stack_pos < STACK_POS)
  75              		.loc 1 21 0
  76 0036 D3F800E0 		ldr	lr, [r3]
  77 003a 2268     		ldr	r2, [r4]
  78 003c 9645     		cmp	lr, r2
  79 003e 04D2     		bcs	.L4
  22:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****          {
  23:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****             STACK_POS  = (volatile uint32 )stack_pos;
  80              		.loc 1 23 0
  81 0040 1A68     		ldr	r2, [r3]
  82 0042 2260     		str	r2, [r4]
  24:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****             STACK_ADDR = (volatile uint32*)&OS_MAIN_STACK[stack_pos];
  83              		.loc 1 24 0
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s 			page 3


  84 0044 1968     		ldr	r1, [r3]
  85 0046 0125     		movs	r5, #1
  86 0048 3144     		add	r1, r1, r6
  87              	.L4:
  16:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    {
  88              		.loc 1 16 0 discriminator 2
  89 004a 1A68     		ldr	r2, [r3]
  90 004c 0132     		adds	r2, r2, #1
  91 004e 1A60     		str	r2, [r3]
  92 0050 1A68     		ldr	r2, [r3]
  93 0052 B2F5007F 		cmp	r2, #512
  94 0056 E8D3     		bcc	.L2
  95 0058 B5B9     		cbnz	r5, .L18
  96              	.L3:
  25:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****          }
  26:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       }
  27:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    }
  28:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    STACK_USAGE_PERCENT = (OS_STACK_SIZE - STACK_POS) * 100u / OS_STACK_SIZE;
  97              		.loc 1 28 0
  98 005a 2168     		ldr	r1, [r4]
  99 005c 6FF06302 		mvn	r2, #99
 100 0060 02FB01F2 		mul	r2, r2, r1
 101 0064 02F54842 		add	r2, r2, #51200
 102 0068 520A     		lsrs	r2, r2, #9
 103 006a 0260     		str	r2, [r0]
  29:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** 
  30:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    if((stack_used == True) && (STACK_USAGE_PERCENT > 80u))
 104              		.loc 1 30 0
 105 006c 5B68     		ldr	r3, [r3, #4]
 106 006e 012B     		cmp	r3, #1
 107 0070 00D0     		beq	.L19
 108              	.L1:
  31:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    {
  32:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       OS_SetSwBug(os_bug_critical_stack_usage,Func_StackCheck);
  33:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       ReferenceUnusedParameter(STACK_POS);
  34:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       ReferenceUnusedParameter(STACK_ADDR);
  35:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       while(1)
  36:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       {
  37:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****          /* allow easy debugging */
  38:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       }
  39:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    }
  40:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c **** }
 109              		.loc 1 40 0
 110 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 111              	.L19:
  30:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****    {
 112              		.loc 1 30 0 discriminator 1
 113 0074 0368     		ldr	r3, [r0]
 114 0076 502B     		cmp	r3, #80
 115 0078 FBD9     		bls	.L1
  32:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       ReferenceUnusedParameter(STACK_POS);
 116              		.loc 1 32 0
 117 007a 1121     		movs	r1, #17
 118 007c 0920     		movs	r0, #9
 119 007e FFF7FEFF 		bl	OS_SetSwBug
 120              	.LVL0:
  33:E:\NeuOrga\Programmieren\c_cpp\github_os\input\src\os_base\os_stack.c ****       ReferenceUnusedParameter(STACK_ADDR);
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s 			page 4


 121              		.loc 1 33 0
 122 0082 2368     		ldr	r3, [r4]
 123 0084 2360     		str	r3, [r4]
 124              	.L7:
 125 0086 FEE7     		b	.L7
 126              	.L18:
 127 0088 3960     		str	r1, [r7]
 128 008a E6E7     		b	.L3
 129              	.L21:
 130              		.align	2
 131              	.L20:
 132 008c 00000000 		.word	STACK_USAGE_PERCENT
 133 0090 00000000 		.word	.LANCHOR0
 134 0094 00000000 		.word	STACK_POS
 135 0098 00000000 		.word	STACK_ADDR
 136 009c 00000000 		.word	OS_MAIN_STACK
 137              		.cfi_endproc
 138              	.LFE0:
 140              		.bss
 141              		.align	2
 142              		.set	.LANCHOR0,. + 0
 145              	stack_pos.4032:
 146 0000 00000000 		.space	4
 149              	stack_used.4033:
 150 0004 00000000 		.space	4
 151              		.text
 152              	.Letext0:
 153              		.file 2 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_base_types.h"
 154              		.file 3 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_common.h"
 155              		.file 4 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_drivers\\lld_core.h"
 156              		.file 5 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_task_common.h"
 157              		.file 6 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_ram.h"
 158              		.file 7 "e:\\neuorga\\programmieren\\c_cpp\\github_os\\input\\src\\os_base\\os_ram_stack.h"
ARM GAS  C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s 			page 5


DEFINED SYMBOLS
                            *ABS*:00000000 os_stack.c
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:15     .text:00000000 $t
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:23     .text:00000000 OS_StackCheck
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:132    .text:0000008c $d
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:141    .bss:00000000 $d
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:145    .bss:00000000 stack_pos.4032
C:\Users\PRESID~1\AppData\Local\Temp\ccytwvnB.s:149    .bss:00000004 stack_used.4033
                           .group:00000000 wm4.0.d67ddeb5d3f434a0386bf4e126239e16
                           .group:00000000 wm4.os_base_types.h.2.f3c0267f175f5cbacca6b71710665a02
                           .group:00000000 wm4.os_common.h.2.7d3083dfb0b17ee9cbe20f6fe4481cd9
                           .group:00000000 wm4.os_task_config.h.2.a73335dbec9f276504b3b94e79d1d898
                           .group:00000000 wm4.os_task_common.h.97.d031f1e6a25f19c1fb076c4a4d7927a1
                           .group:00000000 wm4.os_stack.h.2.0b496ee49cecbb9eb97fc92684c656a4
                           .group:00000000 wm4.os_heap.h.2.89074aae455d2462b5952479e3530dd1
                           .group:00000000 wm4.os_main.h.2.1f66ae3841c27bd36097fa1d2e1fe6a7

UNDEFINED SYMBOLS
OS_SetSwBug
STACK_USAGE_PERCENT
STACK_POS
STACK_ADDR
OS_MAIN_STACK
