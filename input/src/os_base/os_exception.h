#ifndef  _OS_EXCEPTION_H_
#define  _OS_EXCEPTION_H_

/* define the Cortex M4 Exception regiters */
#define HARDFAULT_STATUS_REG       ((volatile uint32*)0xE000ED2Cu)
#define MEM_MANAG_FAULT_STATUS_REG ((volatile uint8*)0xE000ED28u)
#define BUS_FAULT_STATUS_REG       ((volatile uint8*)0xE000ED29u)
#define USAGE_FAULT_STATUS_REG     ((volatile uint16*)0xE000ED2Au)
#define MEM_FAULT_ADDR_REG         ((volatile uint32*)0xE000ED34u)
#define BUS_FAULT_ADDR_REG         ((volatile uint32*)0xE000ED38u)
#define AUX_FAULT_STATUS_REG       ((volatile uint32*)0xE000ED3Cu)

/* systick related registers */
#define SYSTICK_CTRL_STAT_REG         ((uint32*)0xE000E010u)
#define SYSTICK_RLD_VAL_REG           ((uint32*)0xE000E014u)
#define SYSTICK_CURRENT_VAL_REG       ((uint32*)0xE000E018u)
#define SYSTICK_CALIB_VAL_REG         ((uint32*)0xE000E01Cu)
#define SYSTICK_STAT_REG_CLKSRC_AHB   ((uint32 )0x00000004u)
#define SYSTICK_STAT_REG_CLKSRC_AHB_8 ((uint32 )0x00000000u)
#define SYSTICK_STAT_REG_TICKINT      ((uint32 )0x00000002u)
#define SYSTICK_STAT_REG_ENABLE       ((uint32 )0x00000001u)

/* system handler registers */
#define SYS_HANDLER_CTRL_STATE_REG                  ((uint32*)0xE000ED24u)
#define SYS_HANDLER_CTRL_STATE_BIT_MASK_USGFAULTENA ((uint32 )0x00040000u)
#define SYS_HANDLER_CTRL_STATE_BIT_MASK_BUSFAULTENA ((uint32 )0x00020000u)
#define SYS_HANDLER_CTRL_STATE_BIT_MASK_MEMFAULTENA ((uint32 )0x00010000u)
#define SYS_HANDLER_CTRL_STATE_ENA_ALL_EXCEP (*SYS_HANDLER_CTRL_STATE_REG = *SYS_HANDLER_CTRL_STATE_REG | SYS_HANDLER_CTRL_STATE_BIT_MASK_USGFAULTENA | SYS_HANDLER_CTRL_STATE_BIT_MASK_BUSFAULTENA | SYS_HANDLER_CTRL_STATE_BIT_MASK_MEMFAULTENA)

#endif /* _OS_EXCEPTION_H_ */
